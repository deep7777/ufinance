function clearSalaryFields(){$("#agent_fixed_salary","#agent_month_saving_deposit","#agent_comission").val(""),$("#agent_total_salary").val("")}function getAgentSalary(){var t=$("#agent_id option:selected").val();if(""!==t){var a=$("#url").val()+"/salary/getAgentSalary";$.ajax({url:a,type:"post",data:$("#frm_agent_salary").serialize(),dataType:"json",success:function(t){"null"!==t.agent_fixed_salary&&$("#agent_fixed_salary").val(t.agent_fixed_salary),"null"!==t.total_month_deposit&&$("#agent_month_saving_deposit").val(t.total_month_deposit),"null"!==t.comission&&$("#agent_comission").val(t.comission),getTotalSalary()}})}else $("#frm_agent_salary")[0].reset()}function getTotalSalary(){if(""!=$("#agent_comission").val()&&""!=$("#agent_fixed_salary").val()){var t=$("#url").val()+"/salary/totalSalary";$.ajax({url:t,type:"post",data:$("#frm_agent_salary").serialize(),success:function(t){$("#agent_total_salary").val(t)}})}}function getAccountType(t){var a="";return"add"===$("#frm_type").val()&&(a=getAccountTypeVal(t)),a}function getAccountTypeVal(t){var a="3"===t?"RD":"FD";return a}function getCustomerRegNo(){if("add"==$("#frm_type"))return $(".customer_reg_no").val();var t=parseInt($("#customer_id").val())+1e3,a="UF-"+t;return a}function account_details(t,a){if("3"===t||"4"===t){$(".account_fd_or_rd").show(),$(".account_details").each(function(){$(this).attr("required","")});var e=getCustomerRegNo(),a="3"===t?"RD":"FD",n=e+""+a;$(".customer_reg_no").val(n)}else $(".account_fd_or_rd").hide(),$(".customer_reg_no").val($(".org_customer_reg_no").val()),$(".account_details").each(function(){$(this).removeAttr("required","")})}function account_reopen_date(t){"3"===t?($("#customer_account_reopening_date").val(""),$(".customer_account_reopening_date").show(),$("#customer_account_reopening_date").attr("required","")):($(".customer_account_reopening_date").hide(),$("#customer_account_reopening_date").val(""),$("#customer_account_reopening_date").removeAttr("required",""))}function calculateMaturityValue(){if(""!=$("#customer_interest_rate").val()&&""!=$("#customer_amount").val()){var t=$("#customer_interest_rate").val(),a=$("#customer_amount").val(),e=parseInt(a)/100*parseFloat(t),n=parseInt(a)+e;$("#customer_maturity_value").val(n)}}if($("frm_agent_salary #agent_joining_date").length&&$("#agent_joining_date").datetimepicker({format:"d/m/Y",timepicker:!1}),$("#frm_agent_salary .cal_comission").length&&$("#frm_agent_salary .cal_comission").change(function(){if(""!=$("#agent_comission_per").val()&&""!=$("#agent_month_saving_deposit").val()){var t=$("#url").val()+"/salary/calculateSalary";$.ajax({url:t,type:"post",data:$("#frm_agent_salary").serialize(),success:function(t){$("#agent_comission").val(t),getTotalSalary()}})}}),$("#frm_agent_salary .agent_salary").length&&$("#frm_agent_salary .agent_salary").change(function(){getTotalSalary()}),$("#frm_agent_salary #agent_id").length&&$("#agent_id").change(function(){clearSalaryFields(),getAgentSalary()}),$("#frm_agent_salary #agent_salary_paid_date").length&&$("#agent_salary_paid_date").change(function(){clearSalaryFields(),getAgentSalary()}),$("#customer_account_opening_date").length&&$("#customer_account_opening_date").datetimepicker({format:"d/m/Y",timepicker:!1}),$("#customer_account_reopening_date").length&&$("#customer_account_reopening_date").datetimepicker({format:"d/m/Y",timepicker:!1}),$("#customer_account_maturity_date").length&&$("#customer_account_maturity_date").datetimepicker({format:"d/m/Y",timepicker:!1}),$(".account_fd_or_rd").length&&$(".account_fd_or_rd").hide(),$("#customer_account_status_id").length){var customer_account_status_id=$("#customer_account_status_id option:selected").val();$("#customer_account_status_id").change(function(){customer_account_status_id=$("#customer_account_status_id option:selected").val(),account_reopen_date(customer_account_status_id)}),account_reopen_date(customer_account_status_id)}if($("#account_type_id").length){var account_type_id=$("#account_type_id option:selected").val(),text=getAccountType(account_type_id);$("#account_type_id").change(function(){account_type_id=$("#account_type_id option:selected").val(),text="3"===account_type_id?"RD":"FD",account_details(account_type_id,text)}),account_details(account_type_id,text)}$("#customer_amount").length&&$("#customer_amount").change(function(){calculateMaturityValue()}),$("#customer_interest_rate").length&&$("#customer_interest_rate").change(function(){calculateMaturityValue()}),$("#customer_maturity_value").length&&$("#customer_maturity_value").change(function(){calculateMaturityValue()}),$("#admin_dashboard").length&&$("#admin_dashboard").click(function(){var t=$("#url").val()+"/admin";window.location.href=t}),$("#staff-list").length&&$("#staff-list").DataTable({keys:!0,aoColumnDefs:[{bSortable:!1,aTargets:[-1]}]}),$(".delStaff").click(function(){var t=$(this).data("token"),a=$(this).data("staff-id"),e={_token:t,id:a},n=$("#delete_url").val(),o=$("#list_staff").val();confirm("Are you sure you want to delete record")&&$.ajax({url:n,type:"post",data:e,success:function(t){window.location.href=o}})});